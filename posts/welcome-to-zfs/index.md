---
title: "Welcome to ZFS!"
date: "2005-11-16"
categories: 
  - "solaris"
---

If you haven't already seen it, [ZFS is now available for download](http://opensolaris.org/os/downloads/), marking a major milestone in the history of filesystems. Today is a way station down a long road: for as long as I have known [Jeff Bonwick](http://blogs.sun.com/roller/page/bonwick), he has wanted to solve the filesystem problem -- and about five years ago, Jeff set out to do just that, starting (as Jeff is wont to do) from a blank sheet of paper. I vividly remember Jeff describing some of his nascent ideas on my whiteboard; the ideas were radical and revolutionary, their implications manifold. I remember thinking "he's either missed something basic that somehow invalidates these ideas -- or this is the most important development in storage since RAID." As [I recently recounted](http://research.sun.com/minds/2005-0929/), Jeff is the reason that I came to Sun almost a decade ago -- and in particular, I was drawn by Jeff's contagious belief that nothing is impossible simply because it hasn't been done before. So I knew better than to doubt him at the time -- and I knew that the road ahead promised excitement if nothing else. Years after that moment, there is no other conclusion left to be had: [ZFS](http://opensolaris.org/os/community/zfs) **is** the most important revolution in storage software in two decades -- and may be the most important idea since the filesystem itself. That may seem a heady claim, but keep reading...

To get an idea of what ZFS can do, first check out [Dan Price](http://blogs.sun.com/dp)'s awesome [ZFS flash demo](http://opensolaris.org/os/community/zfs/demos/basics/) Then join me on a tour of today's ZFS blog entries, as ZFS developers and users inside Sun illustrate the power of ZFS: ease of administration, absolute reliability and rippin' performance.

- **Administration.** If you're an administrator, start your ZFS blog tour with [Martin Englund](http://blogs.sun.com/roller/page/georges)'s entry on [ZFS from a sysadmin's view](http://blogs.sun.com/roller/page/martin#zfs_from_a_sysadmin_point). Martin walks you through the ease of setting up ZFS; there are no hidden wires -- it really _is_ that easy! And if, as a self-defence mechanism, your brain refuses to let you recall the slog of traditional volume management, check out [Tim Foster](http://blogs.sun.com/roller/page/timf)'s entry [comparing ZFS management to Veritas management](http://blogs.sun.com/roller/page/timf#zfs_is_that_it). (And have we mentioned [the price](http://www.sun.com/software/solaris/index.jsp)?) For insight into the design principles that guided the development of the administration tools, check out [Eric Schrock](http://blogs.sun.com/roller/page/eschrock)'s entry on [the principles of the ZFS CLI](http://blogs.sun.com/roller/page/eschrock#principles_of_the_zfs_cli). Eric's entry and his design reflect the principles that we used in [DTrace](http://opensolaris.org/os/community/dtrace) as well: make it simple to do simple things and make it possible to do complicated things. As you can imagine, this simplicity of management is winning fans both inside and outside of Sun. For some testimonials, check out [Lin Ling](http://blogs.sun.com/roller/page/lling)'s entry on [the love for ZFS](http://blogs.sun.com/roller/page/lling#i_love_zfs) -- both Lin's and our Beta customers'. As Lin's entry implies, a common theme among ZFS users is "if I only had this when..."; check out [James McPhearson](http://blogs.sun.com/roller/page/jmcp)'s entry [wishing he had ZFS back in the day](http://blogs.sun.com/roller/page/jmcp#back_in_the_old_days).
    
    And if you think that the management of ZFS couldn't get any easier, check out [Steve Talley](http://blogs.sun.com/roller/page/talley)'s entry on [managing ZFS from your browser](http://blogs.sun.com/roller/page/talley#manage_zfs_from_your_browser). Steve's work highlights the proper role for GUI admin tools in a system: they should make something that's _already simple even simpler_. They should **not** be used to smear lipstick over a hideously over-complicated system -- doing so leads to an unresolvable rift between what the tool is telling you the system looks like, and what the system _actually_ looks like. Thanks to the simplicity of ZFS itself, there is no second guessing about what the GUI is actually doing under the hood -- it's all just gravy!
    
    Speaking of gravy, check out the confluence of ZFS with another revolutionary Solaris technology in [Dan Price](http://blogs.sun.com/roller/page/markm)'s entry on [ZFS and Zones](http://blogs.sun.com/roller/page/dp#zfs_and_zones_z_s) thanks to some great integration work,_local_ zone administrators can have the full power of ZFS without compromising the security of the system!
    
    For details on particular features of ZFS, check out [Mark Maybee](http://blogs.sun.com/roller/page/markm)'s entry on [quotas and reservations in ZFS](http://blogs.sun.com/roller/page/markm#filesystem_quotas_and_reservations_on). Unlike some other systems, quotas and reservations are first-class citizen iin ZFS, not bolted-on afterthoughts. Die, `/usr/sbin/quota`, die! And for details on another feature of ZFS, check out [Mark Shellenbaum](http://blogs.sun.com/roller/page/marks)'s entry on [access control](http://blogs.sun.com/roller/page/marks#zfs_acls) [lists in ZFS](http://blogs.sun.com/roller/page/marks#zfs_acls), and [Lisa Week](http://blogs.sun.com/roller/page/lisaweek)'s entry describing [why](http://blogs.sun.com/roller/page/lisaweek#nfsv4_and_zfs_acls) [ZFS adopted the NFSv4 ACL model](http://blogs.sun.com/roller/page/lisaweek#nfsv4_and_zfs_acls). Like quotas and reservations, ACLs were a part of the design of ZFS -- not something that was carpet-bombed over the source after the fact.
- **Reliability**. Unlike virtually every other filesystem that has come before it, ZFS is _designed_ around unreliable hardware. This design-center means that ZFS can detect -- and correct! -- errors that other filesystems just silently propagate to the user. To get a visceral feel for this, read [Eric Lowe](http://blogs.sun.com/roller/page/elowe)'s entry on [ZFS saving the day](http://blogs.sun.com/roller/page/elowe#zfs_saves_the_day_ta). Reading this entry will send a chill up your spine: Eric had a data-corrupting hardware problem that _he didn't know he had until ZFS_. How much data is being corrupted out there today because pre-ZFS filesystems are too trusting of faulty hardware? More to the point, how much of _your_ data is being corrupted today? Yeah -- scary, ain't it? And not only can ZFS detect hardware errors, in a mirrored configuration it can _correct_ them. Fortunately, you don't have to have busted hardware to see this: look at [Tim Cook](http://blogs.sun.com/roller/page/timc)'s entry [demonstrating ZFS's self-healing](http://blogs.sun.com/roller/page/timc#demonstrating_zfs_self_healing) by using `dd` to simulate date corruption.But if problems like Eric's are all over the place, how is anyone's data ever correct? The answer is pretty simple, if expensive: you pay for reliability by buying [over-priced hardware](http://www.emc.com/). That is, we've compensated for dumb software by having smart (and expensive) hardware. ZFS flips the economics on its head: smart software allows for stupid (and cheap) hardware -- with ultra-high reliability. This is a profound shift; for more details on it check out [Richard Elling](http://blogs.sun.com/roller/page/relling)'s entry on [the reliability of ZFS](http://blogs.sun.com/roller/page/relling#zfs_from_a_ras_point).ZFS is reliable by its architecture, but what of the implementation? As [Bill Moore](http://blogs.sun.com/roller/page/bill) writes, [testing ZFS was every bit as important as writing it](http://blogs.sun.com/roller/page/bill#zfs_and_the_all_singing). And testing ZFS involved many people, as [Jim Walker](http://blogs.sun.com/roller/page/jwalker) describes in his entry on [the scope of the ZFS testing effort](http://blogs.sun.com/roller/page/jwalker#zfs_testing).
- **Performance**. So fine: ZFS is a snap to administer, and it's ultra-reliable -- but at what performance cost? The short answer is: none, really -- and in fact, on many workloads, it rips. How can you have such features and still have great performance? Generally speaking, ZFS is able to deliver great performance because _it has more context_, a phenomenon that [Bill Sommerfeld](http://blogs.sun.com/roller/page/sommerfeld) notes is a consequence of [the end-to-end principle](http://blogs.sun.com/roller/page/sommerfeld#the_end_to_end_argument). To see how this unlocks performance, look at [Bill Moore](http://blogs.sun.com/roller/page/bill)'s entry on [I/O scheduling](http://blogs.sun.com/roller/page/bill#zfs_vs_the_benchmark); as Bill describes (and as I can personally attest to) ZFS is _much_ smarter about how it uses I/O devices than previous filesystems. For another architectural feature for performance, look at [Neil Perrin](http://blogs.sun.com/roller/page/perrin)'s entry on [the ZFS intent log](http://blogs.sun.com/roller/page/perrin#the_lumberjack) -- and chase it with [Neelakanth Nadgir](http://blogs.sun.com/roller/page/realneel)'s entry taking you through [the ZIL code](http://blogs.sun.com/roller/page/realneel#the_zfs_intent_log).If you're looking for some performance numbers, check out [Roch Bourbonnais](http://blogs.sun.com/roller/page/roch)'s entry [comparing the performance of ZFS and UFS](http://blogs.sun.com/roller/page/roch#zfs_to_ufs_performance_comparison). Or let [Eric Kustarz](http://blogs.sun.com/roller/page/erickustarz) take you to school, as you go to [Filesystems Performance 101: Disk Bandwidth](http://blogs.sun.com/roller/page/erickustarz?entry=fs_perf_101_disk_bw), [Filesystems Performance 102: Filesystem Bandwidth](http://blogs.sun.com/roller/page/erickustarz?entry=fs_perf_102_filesystem_bw) and finally graduate to [Filesystems Performance 201: When ZFS Attacks!](http://blogs.sun.com/roller/page/erickustarz?entry=fs_perf_201_postmark)

So given that ZFS _is_ all that, when can we start forgetting about every other on-disk filesystem? For that, we'll need to be able to boot off ZFS. Bad news: this is hard. Good news: [Tabriz Leman](http://blogs.sun.com/roller/page/tabriz) and the rest of the ZFS Boot team are making great progress, as Tabriz describes in her entry on [booting ZFS](http://blogs.sun.com/roller/page/tabriz?entry=zfs_boot). Once we can boot ZFS -- that is, once we can _assume_ ZFS -- all sorts of cool things become possible, as [Bart Smaalders](http://blogs.sun.com/roller/page/barts) brainstorms in his entry on [the impact of ZFS on Solaris](http://blogs.sun.com/roller/page/barts#some_thoughts_on_zfs_s). As Bart says, this is just the beginning of the ZFS revolution...

Finally, this has been a long, hard slog for the ZFS team. Anyone who has worked through "crunch time" on a big project will see something of themselves in [Noel Dellofano](http://blogs.sun.com/roller/page/dellofano)'s entry on [the final push](http://blogs.sun.com/roller/page/dellofano#late_night_zfs_fuel). And any parent can empathize with [Sherry Moore](http://blogs.sun.com/roller/page/sherrym)'s entry [congratulating the team](http://blogs.sun.com/roller/page/sherrym#congratulations) -- and looking forward to having [her husband](http://blogs.sun.com/roller/page/bill) once again available to help with the kids. So congratulations to everyone on the ZFS team (_and_ your families!) -- and for everyone else, welcome to ZFS!

* * *

Technorati tags: [OpenSolaris](http://technorati.com/tag/OpenSolaris) [Solaris](http://technorati.com/tag/Solaris) [ZFS](http://technorati.com/tag/ZFS)
